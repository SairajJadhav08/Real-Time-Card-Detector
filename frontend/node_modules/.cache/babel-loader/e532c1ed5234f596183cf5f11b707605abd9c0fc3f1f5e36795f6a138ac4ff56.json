{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import{motion,AnimatePresence}from'framer-motion';import{Camera,Settings,History,BarChart3,Zap,AlertCircle}from'lucide-react';import'./App.css';// Components\nimport CameraFeed from'./components/CameraFeed';import DetectionOverlay from'./components/DetectionOverlay';import DetectionHistory from'./components/DetectionHistory';import StatsPanel from'./components/StatsPanel';import SettingsPanel from'./components/SettingsPanel';import LoadingSpinner from'./components/LoadingSpinner';// Hooks\nimport{useWebSocket}from'./hooks/useWebSocket';import{useDetectionHistory}from'./hooks/useDetectionHistory';import{useDetectionStats}from'./hooks/useDetectionStats';// Types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// State management\nconst[isConnected,setIsConnected]=useState(false);const[currentDetections,setCurrentDetections]=useState([]);const[isDetecting,setIsDetecting]=useState(false);const[activePanel,setActivePanel]=useState('camera');const[theme,setTheme]=useState('dark');const[showNotification,setShowNotification]=useState(false);const[notificationMessage,setNotificationMessage]=useState('');const[processingTime,setProcessingTime]=useState(0);const[detectionCount,setDetectionCount]=useState(0);// Refs\nconst webcamRef=useRef(null);const detectionTimeoutRef=useRef(null);// Custom hooks\nconst{sendMessage,lastMessage,connectionStatus}=useWebSocket('ws://localhost:8000/ws/detect');const{history,addDetection,clearHistory}=useDetectionHistory();const{stats,refreshAll}=useDetectionStats();// WebSocket message handling\nuseEffect(()=>{if(lastMessage){try{const data=JSON.parse(lastMessage.data);if(data.type==='detection'){setCurrentDetections(data.detections);setProcessingTime(data.processing_time);// Add to history if significant detections\nif(data.detections.length>0){data.detections.forEach(detection=>{if(detection.confidence>0.7){addDetection({rank:detection.rank,suit:detection.suit,confidence:detection.confidence});setDetectionCount(prev=>prev+1);}});// Show notification for new detection\nconst cardNames=data.detections.filter(d=>d.confidence>0.7).map(d=>\"\".concat(d.rank,\" of \").concat(d.suit)).join(', ');if(cardNames){showNotificationMessage(\"Detected: \".concat(cardNames));}}// Clear detections after 3 seconds\nif(detectionTimeoutRef.current){clearTimeout(detectionTimeoutRef.current);}detectionTimeoutRef.current=setTimeout(()=>{setCurrentDetections([]);},3000);}}catch(error){console.error('Error parsing WebSocket message:',error);}}},[lastMessage,addDetection]);// Connection status handling\nuseEffect(()=>{setIsConnected(connectionStatus==='Connected');},[connectionStatus]);// Camera frame capture and sending\nconst captureAndSend=useCallback(()=>{if(webcamRef.current&&isConnected&&isDetecting){const imageSrc=webcamRef.current.getScreenshot();if(imageSrc){sendMessage(JSON.stringify({type:'frame',image:imageSrc,session_id:'current'}));}}},[isConnected,isDetecting,sendMessage]);// Auto-capture frames when detecting\nuseEffect(()=>{let interval;if(isDetecting&&isConnected){interval=setInterval(captureAndSend,200);// 5 FPS\n}return()=>{if(interval)clearInterval(interval);};},[isDetecting,isConnected,captureAndSend]);// Notification helper\nconst showNotificationMessage=message=>{setNotificationMessage(message);setShowNotification(true);setTimeout(()=>setShowNotification(false),3000);};// Theme toggle\nconst toggleTheme=()=>{const newTheme=theme==='light'?'dark':'light';setTheme(newTheme);document.documentElement.classList.toggle('dark',newTheme==='dark');};// Panel navigation\nconst renderActivePanel=()=>{switch(activePanel){case'camera':return/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col\",children:[/*#__PURE__*/_jsx(CameraFeed,{webcamRef:webcamRef,isDetecting:isDetecting,onToggleDetection:()=>setIsDetecting(!isDetecting),isConnected:isConnected,processingTime:processingTime}),/*#__PURE__*/_jsx(DetectionOverlay,{detections:currentDetections,isDetecting:isDetecting})]});case'history':return/*#__PURE__*/_jsx(DetectionHistory,{history:history,onClearHistory:clearHistory});case'stats':return/*#__PURE__*/_jsx(StatsPanel,{isOpen:true,onClose:()=>setActivePanel('camera')});case'settings':return/*#__PURE__*/_jsx(SettingsPanel,{isOpen:true,onClose:()=>setActivePanel('camera'),settings:{theme,autoDetect:isDetecting,detectionInterval:200,confidenceThreshold:0.7,showConfidence:true,soundEnabled:false,animationsEnabled:true,maxHistory:1000,cameraResolution:'1280x720',frameRate:5},onSettingsChange:newSettings=>{setTheme(newSettings.theme);setIsDetecting(newSettings.autoDetect);}});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 text-white transition-all duration-300 \".concat(theme),children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-black/20 backdrop-blur-md border-b border-white/10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center space-x-3\",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.5},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Zap,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\",children:\"Playing Card Detector\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"Real-time AI Recognition\"})]})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center space-x-2\",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:0.5,delay:0.2},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(isConnected?'bg-green-500 animate-pulse':'bg-red-500')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:isConnected?'Connected':'Disconnected'})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-[calc(100vh-4rem)]\",children:[/*#__PURE__*/_jsx(motion.nav,{className:\"w-20 bg-black/20 backdrop-blur-md border-r border-white/10 flex flex-col items-center py-6 space-y-4\",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.5,delay:0.3},children:[{id:'camera',icon:Camera,label:'Camera'},{id:'history',icon:History,label:'History'},{id:'stats',icon:BarChart3,label:'Stats'},{id:'settings',icon:Settings,label:'Settings'}].map((item,index)=>/*#__PURE__*/_jsx(motion.button,{onClick:()=>setActivePanel(item.id),className:\"w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 \".concat(activePanel===item.id?'bg-blue-600 text-white shadow-lg shadow-blue-600/25':'bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white'),whileHover:{scale:1.05},whileTap:{scale:0.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3,delay:0.4+index*0.1},title:item.label,children:/*#__PURE__*/_jsx(item.icon,{className:\"w-6 h-6\"})},item.id))}),/*#__PURE__*/_jsx(motion.main,{className:\"flex-1 overflow-hidden\",initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5,delay:0.5},children:/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.3},className:\"h-full\",children:renderActivePanel()},activePanel)})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:showNotification&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:50,scale:0.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:0.9},className:\"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 z-50\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:notificationMessage})]})}),!isConnected&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 backdrop-blur-md rounded-2xl p-8 text-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-lg font-medium\",children:\"Connecting to server...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Please ensure the backend is running\"})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","motion","AnimatePresence","Camera","Settings","History","BarChart3","Zap","AlertCircle","CameraFeed","DetectionOverlay","DetectionHistory","StatsPanel","SettingsPanel","LoadingSpinner","useWebSocket","useDetectionHistory","useDetectionStats","jsx","_jsx","jsxs","_jsxs","App","isConnected","setIsConnected","currentDetections","setCurrentDetections","isDetecting","setIsDetecting","activePanel","setActivePanel","theme","setTheme","showNotification","setShowNotification","notificationMessage","setNotificationMessage","processingTime","setProcessingTime","detectionCount","setDetectionCount","webcamRef","detectionTimeoutRef","sendMessage","lastMessage","connectionStatus","history","addDetection","clearHistory","stats","refreshAll","data","JSON","parse","type","detections","processing_time","length","forEach","detection","confidence","rank","suit","prev","cardNames","filter","d","map","concat","join","showNotificationMessage","current","clearTimeout","setTimeout","error","console","captureAndSend","imageSrc","getScreenshot","stringify","image","session_id","interval","setInterval","clearInterval","message","toggleTheme","newTheme","document","documentElement","classList","toggle","renderActivePanel","className","children","onToggleDetection","onClearHistory","isOpen","onClose","settings","autoDetect","detectionInterval","confidenceThreshold","showConfidence","soundEnabled","animationsEnabled","maxHistory","cameraResolution","frameRate","onSettingsChange","newSettings","div","initial","opacity","x","animate","transition","duration","delay","nav","id","icon","label","item","index","button","onClick","whileHover","scale","whileTap","y","title","main","mode","exit","size"],"sources":["C:/Users/Asus/OneDrive/Desktop/card/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Webcam from 'react-webcam';\nimport { Camera, Settings, History, BarChart3, Zap, AlertCircle } from 'lucide-react';\nimport './App.css';\n\n// Components\nimport CameraFeed from './components/CameraFeed';\nimport DetectionOverlay from './components/DetectionOverlay';\nimport DetectionHistory from './components/DetectionHistory';\nimport StatsPanel from './components/StatsPanel';\nimport SettingsPanel from './components/SettingsPanel';\nimport LoadingSpinner from './components/LoadingSpinner';\n\n// Hooks\nimport { useWebSocket } from './hooks/useWebSocket';\nimport { useDetectionHistory } from './hooks/useDetectionHistory';\nimport { useDetectionStats } from './hooks/useDetectionStats';\n\n// Types\ninterface Detection {\n  rank: string;\n  suit: string;\n  confidence: number;\n  bbox: [number, number, number, number];\n  card_name?: string;\n}\n\ninterface DetectionResult {\n  type: string;\n  detections: Detection[];\n  timestamp: string;\n  processing_time: number;\n}\n\nfunction App() {\n  // State management\n  const [isConnected, setIsConnected] = useState(false);\n  const [currentDetections, setCurrentDetections] = useState<Detection[]>([]);\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [activePanel, setActivePanel] = useState<'camera' | 'history' | 'stats' | 'settings'>('camera');\n  const [theme, setTheme] = useState<'light' | 'dark'>('dark');\n  const [showNotification, setShowNotification] = useState(false);\n  const [notificationMessage, setNotificationMessage] = useState('');\n  const [processingTime, setProcessingTime] = useState(0);\n  const [detectionCount, setDetectionCount] = useState(0);\n\n  // Refs\n  const webcamRef = useRef<Webcam>(null);\n  const detectionTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Custom hooks\n  const { sendMessage, lastMessage, connectionStatus } = useWebSocket('ws://localhost:8000/ws/detect');\n  const { history, addDetection, clearHistory } = useDetectionHistory();\n  const { stats, refreshAll } = useDetectionStats();\n\n  // WebSocket message handling\n  useEffect(() => {\n    if (lastMessage) {\n      try {\n        const data: DetectionResult = JSON.parse(lastMessage.data);\n        \n        if (data.type === 'detection') {\n          setCurrentDetections(data.detections);\n          setProcessingTime(data.processing_time);\n          \n          // Add to history if significant detections\n          if (data.detections.length > 0) {\n            data.detections.forEach(detection => {\n              if (detection.confidence > 0.7) {\n                addDetection({\n                  rank: detection.rank,\n                  suit: detection.suit,\n                  confidence: detection.confidence\n                });\n                setDetectionCount(prev => prev + 1);\n              }\n            });\n            \n            // Show notification for new detection\n            const cardNames = data.detections\n              .filter(d => d.confidence > 0.7)\n              .map(d => `${d.rank} of ${d.suit}`)\n              .join(', ');\n            \n            if (cardNames) {\n              showNotificationMessage(`Detected: ${cardNames}`);\n            }\n          }\n          \n          // Clear detections after 3 seconds\n          if (detectionTimeoutRef.current) {\n            clearTimeout(detectionTimeoutRef.current);\n          }\n          detectionTimeoutRef.current = setTimeout(() => {\n            setCurrentDetections([]);\n          }, 3000);\n        }\n      } catch (error) {\n        console.error('Error parsing WebSocket message:', error);\n      }\n    }\n  }, [lastMessage, addDetection]);\n\n  // Connection status handling\n  useEffect(() => {\n    setIsConnected(connectionStatus === 'Connected');\n  }, [connectionStatus]);\n\n  // Camera frame capture and sending\n  const captureAndSend = useCallback(() => {\n    if (webcamRef.current && isConnected && isDetecting) {\n      const imageSrc = webcamRef.current.getScreenshot();\n      if (imageSrc) {\n        sendMessage(JSON.stringify({\n          type: 'frame',\n          image: imageSrc,\n          session_id: 'current'\n        }));\n      }\n    }\n  }, [isConnected, isDetecting, sendMessage]);\n\n  // Auto-capture frames when detecting\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n    \n    if (isDetecting && isConnected) {\n      interval = setInterval(captureAndSend, 200); // 5 FPS\n    }\n    \n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [isDetecting, isConnected, captureAndSend]);\n\n  // Notification helper\n  const showNotificationMessage = (message: string) => {\n    setNotificationMessage(message);\n    setShowNotification(true);\n    setTimeout(() => setShowNotification(false), 3000);\n  };\n\n  // Theme toggle\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  // Panel navigation\n  const renderActivePanel = () => {\n    switch (activePanel) {\n      case 'camera':\n        return (\n          <div className=\"flex-1 flex flex-col\">\n            <CameraFeed\n              webcamRef={webcamRef}\n              isDetecting={isDetecting}\n              onToggleDetection={() => setIsDetecting(!isDetecting)}\n              isConnected={isConnected}\n              processingTime={processingTime}\n            />\n            <DetectionOverlay\n              detections={currentDetections}\n              isDetecting={isDetecting}\n            />\n          </div>\n        );\n      case 'history':\n        return (\n          <DetectionHistory\n            history={history}\n            onClearHistory={clearHistory}\n          />\n        );\n      case 'stats':\n        return (\n          <StatsPanel\n            isOpen={true}\n            onClose={() => setActivePanel('camera')}\n          />\n        );\n      case 'settings':\n        return (\n          <SettingsPanel\n            isOpen={true}\n            onClose={() => setActivePanel('camera')}\n            settings={{\n              theme,\n              autoDetect: isDetecting,\n              detectionInterval: 200,\n              confidenceThreshold: 0.7,\n              showConfidence: true,\n              soundEnabled: false,\n              animationsEnabled: true,\n              maxHistory: 1000,\n              cameraResolution: '1280x720',\n              frameRate: 5\n            }}\n            onSettingsChange={(newSettings) => {\n              setTheme(newSettings.theme);\n              setIsDetecting(newSettings.autoDetect);\n            }}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className={`min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 text-white transition-all duration-300 ${theme}`}>\n      {/* Header */}\n      <header className=\"bg-black/20 backdrop-blur-md border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <motion.div \n              className=\"flex items-center space-x-3\"\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.5 }}\n            >\n              <div className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                <Zap className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\n                  Playing Card Detector\n                </h1>\n                <p className=\"text-xs text-gray-400\">Real-time AI Recognition</p>\n              </div>\n            </motion.div>\n\n            {/* Connection Status */}\n            <motion.div \n              className=\"flex items-center space-x-2\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n            >\n              <div className={`w-3 h-3 rounded-full ${isConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`} />\n              <span className=\"text-sm text-gray-300\">\n                {isConnected ? 'Connected' : 'Disconnected'}\n              </span>\n            </motion.div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"flex h-[calc(100vh-4rem)]\">\n        {/* Sidebar Navigation */}\n        <motion.nav \n          className=\"w-20 bg-black/20 backdrop-blur-md border-r border-white/10 flex flex-col items-center py-6 space-y-4\"\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ duration: 0.5, delay: 0.3 }}\n        >\n          {[\n            { id: 'camera', icon: Camera, label: 'Camera' },\n            { id: 'history', icon: History, label: 'History' },\n            { id: 'stats', icon: BarChart3, label: 'Stats' },\n            { id: 'settings', icon: Settings, label: 'Settings' },\n          ].map((item, index) => (\n            <motion.button\n              key={item.id}\n              onClick={() => setActivePanel(item.id as any)}\n              className={`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 ${\n                activePanel === item.id\n                  ? 'bg-blue-600 text-white shadow-lg shadow-blue-600/25'\n                  : 'bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white'\n              }`}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.3, delay: 0.4 + index * 0.1 }}\n              title={item.label}\n            >\n              <item.icon className=\"w-6 h-6\" />\n            </motion.button>\n          ))}\n        </motion.nav>\n\n        {/* Main Panel */}\n        <motion.main \n          className=\"flex-1 overflow-hidden\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.5, delay: 0.5 }}\n        >\n          <AnimatePresence mode=\"wait\">\n            <motion.div\n              key={activePanel}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={{ duration: 0.3 }}\n              className=\"h-full\"\n            >\n              {renderActivePanel()}\n            </motion.div>\n          </AnimatePresence>\n        </motion.main>\n      </div>\n\n      {/* Notification Toast */}\n      <AnimatePresence>\n        {showNotification && (\n          <motion.div\n            initial={{ opacity: 0, y: 50, scale: 0.9 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 50, scale: 0.9 }}\n            className=\"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 z-50\"\n          >\n            <AlertCircle className=\"w-5 h-5\" />\n            <span>{notificationMessage}</span>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Loading Overlay */}\n      {!isConnected && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\n          <div className=\"bg-white/10 backdrop-blur-md rounded-2xl p-8 text-center\">\n            <LoadingSpinner size=\"lg\" />\n            <p className=\"mt-4 text-lg font-medium\">Connecting to server...</p>\n            <p className=\"text-sm text-gray-400 mt-2\">Please ensure the backend is running</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}